{
  "$schema" : "http://json-schema.org/draft-04/schema#",
  "title" : "Workflow Definition Dto",
  "type" : "object",
  "additionalProperties" : false,
  "properties" : {
    "type" : {
      "type" : "string"
    },
    "name" : {
      "type" : "string"
    },
    "description" : {
      "type" : "string"
    },
    "version" : {
      "type" : "integer"
    },
    "tenantId" : {
      "type" : "string"
    },
    "details" : {
      "$ref" : "#/definitions/DetailsDto"
    },
    "compiled" : {
      "$ref" : "#/definitions/CompiledDto"
    }
  },
  "definitions" : {
    "DetailsDto" : {
      "type" : "object",
      "additionalProperties" : false,
      "properties" : {
        "inputValidateSchema" : {
          "type" : "object",
          "additionalProperties" : {
            "$ref" : "#/definitions/Object"
          }
        },
        "outputValidateSchema" : {
          "type" : "object",
          "additionalProperties" : {
            "$ref" : "#/definitions/Object"
          }
        },
        "starters" : {
          "type" : "array",
          "items" : {
            "$ref" : "#/definitions/StarterDto"
          }
        },
        "sendToKafkaConfig" : {
          "$ref" : "#/definitions/SendToKafkaConfigDto"
        },
        "sendToS3Config" : {
          "$ref" : "#/definitions/SendToS3ConfigDto"
        },
        "restCallConfig" : {
          "$ref" : "#/definitions/RestCallConfigDto"
        },
        "xsltTransformConfig" : {
          "$ref" : "#/definitions/XsltTransformConfigDto"
        },
        "databaseCallConfig" : {
          "$ref" : "#/definitions/DatabaseCallConfigDto"
        },
        "sendToRabbitmqConfig" : {
          "$ref" : "#/definitions/SendToRabbitmqConfigDto"
        },
        "awaitForMessageConfig" : {
          "$ref" : "#/definitions/AwaitForMessageConfigDto"
        },
        "sendToSapConfig" : {
          "$ref" : "#/definitions/SendToSapConfigDto"
        }
      }
    },
    "Object" : {
      "type" : "object",
      "additionalProperties" : false,
      "properties" : { }
    },
    "StarterDto" : {
      "type" : "object",
      "additionalProperties" : false,
      "properties" : {
        "type" : {
          "type" : "string"
        },
        "name" : {
          "type" : "string"
        },
        "description" : {
          "type" : "string"
        },
        "kafkaConsumer" : {
          "$ref" : "#/definitions/KafkaConsumerDto"
        },
        "rabbitmqConsumer" : {
          "$ref" : "#/definitions/RabbitmqConsumerDto"
        },
        "sapInbound" : {
          "$ref" : "#/definitions/SapInboundDto"
        },
        "scheduler" : {
          "$ref" : "#/definitions/SchedulerDto"
        },
        "mailConsumer" : {
          "$ref" : "#/definitions/MailConsumerDto"
        }
      }
    },
    "KafkaConsumerDto" : {
      "type" : "object",
      "additionalProperties" : false,
      "properties" : {
        "topic" : {
          "type" : "string"
        },
        "connectionDef" : {
          "$ref" : "#/definitions/KafkaConnectionDefDto"
        },
        "payloadValidateSchema" : {
          "type" : "object",
          "additionalProperties" : {
            "$ref" : "#/definitions/Object"
          }
        },
        "keyValidateSchema" : {
          "type" : "object",
          "additionalProperties" : {
            "$ref" : "#/definitions/Object"
          }
        },
        "headersValidateSchema" : {
          "type" : "object",
          "additionalProperties" : {
            "$ref" : "#/definitions/Object"
          }
        },
        "outputTemplate" : {
          "type" : "object",
          "additionalProperties" : {
            "$ref" : "#/definitions/Object"
          }
        }
      }
    },
    "KafkaConnectionDefDto" : {
      "type" : "object",
      "additionalProperties" : false,
      "properties" : {
        "bootstrapServers" : {
          "type" : "string"
        },
        "authDef" : {
          "$ref" : "#/definitions/KafkaAuthDefDto"
        }
      }
    },
    "KafkaAuthDefDto" : {
      "type" : "object",
      "additionalProperties" : false,
      "properties" : {
        "type" : {
          "type" : "string"
        },
        "sasl" : {
          "$ref" : "#/definitions/KafkaSaslDto"
        },
        "tls" : {
          "$ref" : "#/definitions/KafkaTlsDto"
        }
      }
    },
    "KafkaSaslDto" : {
      "type" : "object",
      "additionalProperties" : false,
      "properties" : {
        "protocol" : {
          "type" : "string"
        },
        "mechanism" : {
          "type" : "string"
        },
        "username" : {
          "type" : "string"
        },
        "password" : {
          "type" : "string"
        },
        "sslDef" : {
          "$ref" : "#/definitions/KafkaSslDefDto"
        },
        "tokenUrl" : {
          "type" : "string"
        }
      }
    },
    "KafkaSslDefDto" : {
      "type" : "object",
      "additionalProperties" : false,
      "properties" : {
        "trustStoreType" : {
          "type" : "string"
        },
        "trustStoreCertificates" : {
          "type" : "string"
        }
      }
    },
    "KafkaTlsDto" : {
      "type" : "object",
      "additionalProperties" : false,
      "properties" : {
        "keyStoreCertificates" : {
          "type" : "string"
        },
        "keyStoreKey" : {
          "type" : "string"
        },
        "trustStoreCertificates" : {
          "type" : "string"
        },
        "trustStoreType" : {
          "type" : "string"
        }
      }
    },
    "RabbitmqConsumerDto" : {
      "type" : "object",
      "additionalProperties" : false,
      "properties" : {
        "queue" : {
          "type" : "string"
        },
        "connectionDef" : {
          "$ref" : "#/definitions/RabbitmqConnectionDefDto"
        },
        "payloadValidateSchema" : {
          "type" : "object",
          "additionalProperties" : {
            "$ref" : "#/definitions/Object"
          }
        },
        "outputTemplate" : {
          "type" : "object",
          "additionalProperties" : {
            "$ref" : "#/definitions/Object"
          }
        }
      }
    },
    "RabbitmqConnectionDefDto" : {
      "type" : "object",
      "additionalProperties" : false,
      "properties" : {
        "userName" : {
          "type" : "string"
        },
        "userPass" : {
          "type" : "string"
        },
        "addresses" : {
          "type" : "array",
          "items" : {
            "type" : "string"
          }
        },
        "virtualHost" : {
          "type" : "string"
        }
      }
    },
    "SapInboundDto" : {
      "type" : "object",
      "additionalProperties" : false,
      "properties" : {
        "inboundDef" : {
          "$ref" : "#/definitions/SapInboundDefDto"
        }
      }
    },
    "SapInboundDefDto" : {
      "type" : "object",
      "additionalProperties" : false,
      "properties" : {
        "name" : {
          "type" : "string"
        },
        "connectionDef" : {
          "$ref" : "#/definitions/SapConnectionDefDto"
        },
        "props" : {
          "type" : "object",
          "additionalProperties" : {
            "type" : "string"
          }
        }
      }
    },
    "SapConnectionDefDto" : {
      "type" : "object",
      "additionalProperties" : false,
      "properties" : {
        "name" : {
          "type" : "string"
        },
        "props" : {
          "type" : "object",
          "additionalProperties" : {
            "type" : "string"
          }
        }
      }
    },
    "SchedulerDto" : {
      "type" : "object",
      "additionalProperties" : false,
      "properties" : {
        "type" : {
          "type" : "string"
        },
        "cron" : {
          "$ref" : "#/definitions/CronDto"
        },
        "startDateTime" : { },
        "endDateTime" : { },
        "outputTemplate" : {
          "type" : "object",
          "additionalProperties" : {
            "$ref" : "#/definitions/Object"
          }
        }
      }
    },
    "CronDto" : {
      "type" : "object",
      "additionalProperties" : false,
      "properties" : {
        "dayOfWeek" : {
          "type" : "string"
        },
        "dayOfMonth" : {
          "type" : "string"
        },
        "month" : {
          "type" : "string"
        },
        "hour" : {
          "type" : "string"
        },
        "minute" : {
          "type" : "string"
        }
      }
    },
    "MailConsumerDto" : {
      "type" : "object",
      "additionalProperties" : false,
      "properties" : {
        "connectionDef" : {
          "$ref" : "#/definitions/MailConnectionDefDto"
        },
        "mailFilter" : {
          "$ref" : "#/definitions/MailFilterDto"
        }
      }
    },
    "MailConnectionDefDto" : {
      "type" : "object",
      "additionalProperties" : false,
      "properties" : {
        "protocol" : {
          "type" : "string"
        },
        "host" : {
          "type" : "string"
        },
        "port" : {
          "type" : "integer"
        },
        "mailAuth" : {
          "$ref" : "#/definitions/MailAuthDto"
        }
      }
    },
    "MailAuthDto" : {
      "type" : "object",
      "additionalProperties" : false,
      "properties" : {
        "username" : {
          "type" : "string"
        },
        "password" : {
          "type" : "string"
        }
      }
    },
    "MailFilterDto" : {
      "type" : "object",
      "additionalProperties" : false,
      "properties" : {
        "senders" : {
          "type" : "array",
          "items" : {
            "type" : "string"
          }
        },
        "subjects" : {
          "type" : "array",
          "items" : {
            "type" : "string"
          }
        },
        "startMailDateTime" : { }
      }
    },
    "SendToKafkaConfigDto" : {
      "type" : "object",
      "additionalProperties" : false,
      "properties" : {
        "connectionRef" : {
          "$ref" : "#/definitions/KafkaConnectionRefDto"
        },
        "connectionDef" : {
          "$ref" : "#/definitions/KafkaConnectionDefDto"
        },
        "topic" : {
          "type" : "string"
        },
        "key" : {
          "type" : "string"
        },
        "message" : {
          "$ref" : "#/definitions/KafkaMessageDto"
        }
      }
    },
    "KafkaConnectionRefDto" : {
      "type" : "object",
      "additionalProperties" : false,
      "properties" : {
        "id" : {
          "type" : "string",
          "format" : "uuid"
        },
        "name" : {
          "type" : "string"
        },
        "version" : {
          "type" : "integer"
        },
        "tenantId" : {
          "type" : "string"
        }
      }
    },
    "KafkaMessageDto" : {
      "type" : "object",
      "additionalProperties" : false,
      "properties" : {
        "payload" : {
          "$ref" : "#/definitions/Object"
        }
      }
    },
    "SendToS3ConfigDto" : {
      "type" : "object",
      "additionalProperties" : false,
      "properties" : {
        "connectionRef" : {
          "$ref" : "#/definitions/S3ConnectionRefDto"
        },
        "connectionDef" : {
          "$ref" : "#/definitions/S3ConnectionDefDto"
        },
        "bucket" : {
          "type" : "string"
        },
        "region" : {
          "type" : "string"
        },
        "s3File" : {
          "$ref" : "#/definitions/S3FileDto"
        }
      }
    },
    "S3ConnectionRefDto" : {
      "type" : "object",
      "additionalProperties" : false,
      "properties" : {
        "id" : {
          "type" : "string",
          "format" : "uuid"
        },
        "name" : {
          "type" : "string"
        },
        "version" : {
          "type" : "integer"
        },
        "tenantId" : {
          "type" : "string"
        }
      }
    },
    "S3ConnectionDefDto" : {
      "type" : "object",
      "additionalProperties" : false,
      "properties" : {
        "endpoint" : {
          "type" : "string"
        },
        "authDef" : {
          "$ref" : "#/definitions/S3AuthDefDto"
        }
      }
    },
    "S3AuthDefDto" : {
      "type" : "object",
      "additionalProperties" : false,
      "properties" : {
        "type" : {
          "type" : "string"
        },
        "accessKeyAuth" : {
          "$ref" : "#/definitions/AccessKeyAuthDto"
        }
      }
    },
    "AccessKeyAuthDto" : {
      "type" : "object",
      "additionalProperties" : false,
      "properties" : {
        "accessKey" : {
          "type" : "string"
        },
        "secretKey" : {
          "type" : "string"
        }
      }
    },
    "S3FileDto" : {
      "type" : "object",
      "additionalProperties" : false,
      "properties" : {
        "filePath" : {
          "type" : "string"
        },
        "content" : {
          "type" : "string"
        }
      }
    },
    "RestCallConfigDto" : {
      "type" : "object",
      "additionalProperties" : false,
      "properties" : {
        "restCallTemplateDef" : {
          "$ref" : "#/definitions/RestCallTemplateDefDto"
        }
      }
    },
    "RestCallTemplateDefDto" : {
      "type" : "object",
      "additionalProperties" : false,
      "properties" : {
        "curl" : {
          "type" : "string"
        },
        "method" : {
          "type" : "string"
        },
        "url" : {
          "type" : "string"
        },
        "bodyTemplate" : {
          "type" : "string"
        },
        "headers" : {
          "type" : "object",
          "additionalProperties" : {
            "type" : "string"
          }
        },
        "authDef" : {
          "$ref" : "#/definitions/RestAuthDefDto"
        }
      }
    },
    "RestAuthDefDto" : {
      "type" : "object",
      "additionalProperties" : false,
      "properties" : {
        "type" : {
          "type" : "string"
        },
        "oauth2" : {
          "$ref" : "#/definitions/OAuth2ConfigDto"
        }
      }
    },
    "OAuth2ConfigDto" : {
      "type" : "object",
      "additionalProperties" : false,
      "properties" : {
        "issuerLocation" : {
          "type" : "string"
        },
        "clientId" : {
          "type" : "string"
        },
        "clientSecret" : {
          "type" : "string"
        },
        "grantType" : {
          "type" : "string"
        }
      }
    },
    "XsltTransformConfigDto" : {
      "type" : "object",
      "additionalProperties" : false,
      "properties" : {
        "xsltTemplateRef" : {
          "$ref" : "#/definitions/XsltTemplateRefDto"
        },
        "xsltTransformTargetRef" : {
          "$ref" : "#/definitions/XsltTransformTargetRefDto"
        },
        "xsltTemplate" : {
          "type" : "string"
        },
        "xsltTransformTarget" : {
          "type" : "string"
        }
      }
    },
    "XsltTemplateRefDto" : {
      "type" : "object",
      "additionalProperties" : false,
      "properties" : {
        "id" : {
          "type" : "string",
          "format" : "uuid"
        },
        "name" : {
          "type" : "string"
        },
        "version" : {
          "type" : "integer"
        },
        "tenantId" : {
          "type" : "string"
        }
      }
    },
    "XsltTransformTargetRefDto" : {
      "type" : "object",
      "additionalProperties" : false,
      "properties" : {
        "id" : {
          "type" : "string",
          "format" : "uuid"
        },
        "name" : {
          "type" : "string"
        },
        "version" : {
          "type" : "integer"
        },
        "tenantId" : {
          "type" : "string"
        }
      }
    },
    "DatabaseCallConfigDto" : {
      "type" : "object",
      "additionalProperties" : false,
      "properties" : {
        "databaseCallRef" : {
          "$ref" : "#/definitions/DatabaseCallRefDto"
        },
        "databaseCallDef" : {
          "$ref" : "#/definitions/DatabaseCallDefDto"
        },
        "dataSourceId" : {
          "type" : "string"
        },
        "dataSourceDef" : {
          "$ref" : "#/definitions/DataSourceDefDto"
        }
      }
    },
    "DatabaseCallRefDto" : {
      "type" : "object",
      "additionalProperties" : false,
      "properties" : {
        "id" : {
          "type" : "string",
          "format" : "uuid"
        },
        "name" : {
          "type" : "string"
        },
        "version" : {
          "type" : "integer"
        },
        "tenantId" : {
          "type" : "string"
        }
      }
    },
    "DatabaseCallDefDto" : {
      "type" : "object",
      "additionalProperties" : false,
      "properties" : {
        "type" : {
          "type" : "string"
        },
        "sql" : {
          "type" : "string"
        },
        "schema" : {
          "type" : "string"
        },
        "catalog" : {
          "type" : "string"
        },
        "functionName" : {
          "type" : "string"
        },
        "inParameters" : {
          "type" : "object",
          "additionalProperties" : {
            "type" : "string"
          }
        },
        "outParameters" : {
          "type" : "object",
          "additionalProperties" : {
            "type" : "string"
          }
        }
      }
    },
    "DataSourceDefDto" : {
      "type" : "object",
      "additionalProperties" : false,
      "properties" : {
        "url" : {
          "type" : "string"
        },
        "username" : {
          "type" : "string"
        },
        "password" : {
          "type" : "string"
        },
        "driverClassName" : {
          "type" : "string"
        },
        "type" : {
          "type" : "string"
        },
        "className" : {
          "type" : "string"
        }
      }
    },
    "SendToRabbitmqConfigDto" : {
      "type" : "object",
      "additionalProperties" : false,
      "properties" : {
        "connectionRef" : {
          "$ref" : "#/definitions/RabbitmqConnectionRefDto"
        },
        "connectionDef" : {
          "$ref" : "#/definitions/RabbitmqConnectionDefDto"
        },
        "exchange" : {
          "type" : "string"
        },
        "routingKey" : {
          "type" : "string"
        },
        "message" : {
          "type" : "string"
        },
        "messageProperties" : {
          "type" : "object",
          "additionalProperties" : {
            "$ref" : "#/definitions/Object"
          }
        }
      }
    },
    "RabbitmqConnectionRefDto" : {
      "type" : "object",
      "additionalProperties" : false,
      "properties" : {
        "id" : {
          "type" : "string",
          "format" : "uuid"
        },
        "name" : {
          "type" : "string"
        },
        "version" : {
          "type" : "integer"
        },
        "tenantId" : {
          "type" : "string"
        }
      }
    },
    "AwaitForMessageConfigDto" : {
      "type" : "object",
      "additionalProperties" : false,
      "properties" : {
        "messageName" : {
          "type" : "string"
        }
      }
    },
    "SendToSapConfigDto" : {
      "type" : "object",
      "additionalProperties" : false,
      "properties" : {
        "connectionRef" : {
          "$ref" : "#/definitions/SapConnectionRefDto"
        },
        "connectionDef" : {
          "$ref" : "#/definitions/SapConnectionDefDto"
        },
        "idoc" : {
          "$ref" : "#/definitions/IdocDto"
        }
      }
    },
    "SapConnectionRefDto" : {
      "type" : "object",
      "additionalProperties" : false,
      "properties" : {
        "id" : {
          "type" : "string",
          "format" : "uuid"
        },
        "name" : {
          "type" : "string"
        },
        "version" : {
          "type" : "integer"
        },
        "tenantId" : {
          "type" : "string"
        }
      }
    },
    "IdocDto" : {
      "type" : "object",
      "additionalProperties" : false,
      "properties" : {
        "xml" : {
          "type" : "string"
        }
      }
    },
    "CompiledDto" : {
      "type" : "object",
      "additionalProperties" : false,
      "properties" : {
        "start" : {
          "type" : "string"
        },
        "activities" : {
          "type" : "array",
          "items" : {
            "$ref" : "#/definitions/ActivityDto"
          }
        },
        "outputTemplate" : {
          "type" : "object",
          "additionalProperties" : {
            "$ref" : "#/definitions/Object"
          }
        }
      }
    },
    "ActivityDto" : {
      "type" : "object",
      "additionalProperties" : false,
      "properties" : {
        "id" : {
          "type" : "string"
        },
        "description" : {
          "type" : "string"
        },
        "transition" : {
          "type" : "string"
        },
        "type" : {
          "type" : "string"
        },
        "workflowCall" : {
          "$ref" : "#/definitions/WorkflowCallDto"
        },
        "injectData" : {
          "type" : "object",
          "additionalProperties" : {
            "$ref" : "#/definitions/Object"
          }
        },
        "outputFilter" : {
          "$ref" : "#/definitions/Object"
        },
        "dataConditions" : {
          "type" : "array",
          "items" : {
            "$ref" : "#/definitions/DataConditionDto"
          }
        },
        "defaultCondition" : {
          "$ref" : "#/definitions/BranchDto"
        },
        "defaultTransition" : {
          "$ref" : "#/definitions/DefaultDataTransitionDto"
        },
        "branches" : {
          "type" : "array",
          "items" : {
            "type" : "string"
          }
        },
        "completionType" : {
          "type" : "string"
        },
        "timerDuration" : {
          "type" : "string"
        }
      }
    },
    "WorkflowCallDto" : {
      "type" : "object",
      "additionalProperties" : false,
      "properties" : {
        "workflowDef" : {
          "$ref" : "#/definitions/WorkflowDefDto"
        },
        "retryConfig" : {
          "$ref" : "#/definitions/RetryConfigDto"
        },
        "outputFilter" : {
          "type" : "object",
          "additionalProperties" : {
            "$ref" : "#/definitions/Object"
          }
        }
      }
    },
    "WorkflowDefDto" : {
      "type" : "object",
      "additionalProperties" : false,
      "properties" : {
        "type" : {
          "type" : "string"
        },
        "details" : {
          "$ref" : "#/definitions/WorkflowDetailsDto"
        }
      }
    },
    "WorkflowDetailsDto" : {
      "type" : "object",
      "additionalProperties" : false,
      "properties" : {
        "inputValidateSchema" : {
          "type" : "object",
          "additionalProperties" : {
            "$ref" : "#/definitions/Object"
          }
        },
        "outputValidateSchema" : {
          "type" : "object",
          "additionalProperties" : {
            "$ref" : "#/definitions/Object"
          }
        },
        "restCallConfig" : {
          "$ref" : "#/definitions/RestCallConfigDto"
        },
        "sendToKafkaConfig" : {
          "$ref" : "#/definitions/SendToKafkaConfigDto"
        },
        "sendToS3Config" : {
          "$ref" : "#/definitions/SendToS3ConfigDto"
        },
        "sendToSapConfig" : {
          "$ref" : "#/definitions/SendToSapConfigDto"
        },
        "sendToRabbitmqConfig" : {
          "$ref" : "#/definitions/SendToRabbitmqConfigDto"
        },
        "transformConfig" : {
          "$ref" : "#/definitions/TransformConfigDto"
        },
        "awaitForMessageConfig" : {
          "$ref" : "#/definitions/AwaitForMessageConfigDto"
        },
        "databaseCallConfig" : {
          "$ref" : "#/definitions/DatabaseCallConfigDto"
        },
        "xsltTransformConfig" : {
          "$ref" : "#/definitions/XsltTransformConfigDto"
        },
        "inject" : {
          "$ref" : "#/definitions/InjectDataDto"
        }
      }
    },
    "TransformConfigDto" : {
      "type" : "object",
      "additionalProperties" : false,
      "properties" : {
        "type" : {
          "type" : "string"
        },
        "target" : {
          "type" : "object",
          "additionalProperties" : {
            "$ref" : "#/definitions/Object"
          }
        }
      }
    },
    "InjectDataDto" : {
      "type" : "object",
      "additionalProperties" : false,
      "properties" : {
        "data" : {
          "type" : "object",
          "additionalProperties" : {
            "$ref" : "#/definitions/Object"
          }
        }
      }
    },
    "RetryConfigDto" : {
      "type" : "object",
      "additionalProperties" : false,
      "properties" : {
        "maxAttempts" : {
          "type" : "integer"
        },
        "delay" : {
          "type" : "string"
        },
        "strategy" : {
          "type" : "string"
        },
        "retryOnErrors" : {
          "type" : "array",
          "items" : {
            "type" : "string"
          }
        }
      }
    },
    "DataConditionDto" : {
      "type" : "object",
      "additionalProperties" : false,
      "properties" : {
        "transition" : {
          "type" : "string"
        },
        "condition" : {
          "type" : "string"
        },
        "conditionDescription" : {
          "type" : "string"
        }
      }
    },
    "BranchDto" : {
      "type" : "object",
      "additionalProperties" : false,
      "properties" : {
        "condition" : {
          "$ref" : "#/definitions/ConditionDto"
        },
        "transition" : {
          "$ref" : "#/definitions/Object"
        }
      }
    },
    "ConditionDto" : {
      "type" : "object",
      "additionalProperties" : false,
      "properties" : {
        "expression" : {
          "type" : "string"
        }
      }
    },
    "DefaultDataTransitionDto" : {
      "type" : "object",
      "additionalProperties" : false,
      "properties" : {
        "transition" : {
          "type" : "string"
        },
        "conditionDescription" : {
          "type" : "string"
        }
      }
    }
  }
}