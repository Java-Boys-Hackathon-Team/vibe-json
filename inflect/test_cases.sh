#!/bin/bash

API_URL="http://localhost:8000/inflect"

declare -a TESTS=(
  '{"phrase": "–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö", "case": "–≤–∏–Ω–∏—Ç–µ–ª—å–Ω—ã–π"}'
  '{"phrase": "–Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —Å–µ—Ç–∏", "case": "–≤–∏–Ω–∏—Ç–µ–ª—å–Ω—ã–π"}'
  '{"phrase": "–ª–æ–≥ –æ—à–∏–±–æ–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è", "case": "—Ä–æ–¥–∏—Ç–µ–ª—å–Ω—ã–π"}'
  '{"phrase": "–¥—Ä–∞–π–≤–µ—Ä –ø–æ—á—Ç–æ–≤–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞", "case": "–¥–∞—Ç–µ–ª—å–Ω—ã–π"}'
  '{"phrase": "–æ—Å–Ω–æ–≤–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞", "case": "–≤–∏–Ω–∏—Ç–µ–ª—å–Ω—ã–π"}'
  '{"phrase": "—Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Å–∏—Å—Ç–µ–º—ã", "case": "—Ç–≤–æ—Ä–∏—Ç–µ–ª—å–Ω—ã–π"}'
  '{"phrase": "–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∞—è —Å–µ—Å—Å–∏—è –±—Ä–∞—É–∑–µ—Ä–∞", "case": "–ø—Ä–µ–¥–ª–æ–∂–Ω—ã–π"}'
  '{"phrase": "–ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º", "case": "—Ä–æ–¥–∏—Ç–µ–ª—å–Ω—ã–π"}'
  '{"phrase": "–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º–æ–π", "case": "–¥–∞—Ç–µ–ª—å–Ω—ã–π"}'
  '{"phrase": "—Ä–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö", "case": "–≤–∏–Ω–∏—Ç–µ–ª—å–Ω—ã–π"}'
)

echo "üöÄ –û—Ç–ø—Ä–∞–≤–∫–∞ —Ç–µ—Å—Ç–æ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ $API_URL"
echo "--------------------------------------------"

i=1
for test in "${TESTS[@]}"; do
  echo "üîπ –¢–µ—Å—Ç #$i:"
  echo "–ó–∞–ø—Ä–æ—Å: $test"

  response=$(curl -s -X POST "$API_URL" \
    -H "Content-Type: application/json" \
    -d "$test")

  echo "–û—Ç–≤–µ—Ç: $response"
  echo "--------------------------------------------"
  ((i++))
done
